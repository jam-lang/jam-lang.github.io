<html>
  <head>
    <meta charset="utf-8" />
    <title>Reference Jam Language Interpreter</title>
    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css" />
    <link href="jam-ui.css" rel="stylesheet" type="text/css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://ajaxorg.github.io/ace-builds/src/ace.js" type="text/javascript"></script>
    <script type="text/javascript" src="jam-ace-syntax.js?20200309"></script>
    <script type="text/javascript" src="jam.js?20200331"></script>
    <script type="text/javascript" src="jam-ui.js?20200309"></script>
  </head>
  <body onload="setup()">
    <h1>Reference Jam Language Interpreter</h1>
    <noscript>
      <p class="notice">
      This reference interpreter is implemented using JavaScript.
      This page will not function correctly if you are not using
      a JavaScript-enabled browser.
      </p>
    </noscript>
    <form>
      <div class="io">
        <label for="in">Input Program:</label>
        <div id="in"></div>
      </div>
      <table id="controls">
        <tr>
          <td><label for="project">Jam Version:</label></td>
          <td>
            <select id="project">
              <option value="p2">Project 2 - three interpreters</option>
              <option value="p3">Project 3 - nine interpreters</option>
              <option value="p4">Project 4 - imperative jam</option>
              <option value="p4xc">Project 4xc - jam with l-vals</option>
              <option value="p5">Project 5 - typed jam</option>
              <option value="p5xc">Project 5xc - implicitly-typed jam</option>
              <option value="p6">Project 6 - jam with continuations</option>
            </select>
          </td>
          <td>
            <select id="transformation">
              <option value="">no transformation</option>
              <option value="unshadow">unshadow only</option>
              <option value="cps">continuation passing style (cps)</option>
              <option value="sd">static distance (sd)</option>
              <option value="sdcps">sd + cps</option>
            </select>
            <select id="type_variant">
              <option value="poly">polymorphic</option>
              <option value="mono">monomorphic</option>
            </select>
          </td>
        </tr>
        <tr>
          <td><label for="calling_convention">Calling Convention:</label></td>
          <td>
            <select id="calling_convention">
              <option value="value">call-by-value</option>
              <option value="name">call-by-name</option>
              <option value="need">call-by-need</option>
            </select>
          </td>
          <td></td>
        </tr>
        <tr>
          <td><label for="cons_convention">Cons Convention:</label></td>
          <td>
            <select id="cons_convention">
              <option value="value">cons-by-value</option>
              <option value="name">cons-by-name</option>
              <option value="need">cons-by-need</option>
            </select>
          </td>
          <td></td>
        </tr>
        <tr>
          <td><label for="associativity">Associativity:</label></td>
          <td>
            <select id="associativity">
              <option value="left">left</option>
              <option value="right">right</option>
            </select>
          </td>
          <td></td>
        </tr>
        <tr>
          <td><label for="list_limit">Max print count:</label></td>
          <td>
            <input type="text" id="list_limit" value="100" />
          </td>
          <td></td>
        </tr>
        <tr>
          <td>
            <input type="button" id="parse" value="Parse" onclick="jam_parser()" />
          </td>
          <td>
            <input type="button" id="run" value="Run" onclick="jam_runner()" />
          </td>
          <td>
            <input type="button" id="transform" value="Transform" onclick="jam_transformer()" />
          </td>
        </tr>
      </table>
      <div class="io">
        <label for="out">Result:</label>
        <textarea id="out"></textarea>
      </div>
      <p><input type="button" value="Save to URL" onclick="saveToURL()" /></p>
    </form>
    <div id="footer">
      The reference Jam interpreter was developed by Nick Vrvilo using
      <a href="https://clojurescript.org/">ClojureScript</a>.
      This page also uses <a href="http://jquery.com/">jQuery</a>
      and <a href="https://ace.c9.io/">Ace</a>.
    </div>
  </body>
</html>
